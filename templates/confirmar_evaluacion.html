{% extends "base.html" %}

{% block title %}Confirmar Evaluación - Sistema de Evaluaciones{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8 offset-md-2">
        <div class="alert alert-warning">
            <h4><i class="bi bi-exclamation-triangle"></i> ¡Atención!</h4>
            <p>Has dejado las siguientes preguntas sin responder:</p>
            <ul>
                {% for pregunta in respuestas_vacias %}
                <li>{{ pregunta }}</li>
                {% endfor %}
            </ul>
            <p><strong>Para confirmar que deseas enviar la evaluación con estas respuestas vacías, escribe "Confirmar" en el campo de abajo:</strong></p>
        </div>

        <form method="POST" action="{{ url_for('guardar_evaluacion') }}">
            <!-- Preservar todos los datos del formulario original -->
            {% for key, value in form_data.items() %}
                {% if key != 'confirmacion' %}
                    <input type="hidden" name="{{ key }}" value="{{ value }}">
                {% endif %}
            {% endfor %}
            
            <div class="mb-3">
                <label for="confirmacion" class="form-label">Escribir "Confirmar" para continuar:</label>
                <input type="text" class="form-control" id="confirmacion" name="confirmacion" 
                       placeholder="Escribe exactamente: Confirmar" required>
            </div>
            
            <div class="text-center">
                <button type="button" class="btn btn-secondary me-3" onclick="history.back()">Volver a la Evaluación</button>
                <button type="submit" class="btn btn-warning">Enviar Evaluación</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}